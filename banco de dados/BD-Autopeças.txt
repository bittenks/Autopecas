create database autopecas;
use autopecas;

create table cliente(
	idCliente int(4) auto_increment not null primary key,
    nomeCliente varchar(50) not null, 
    cpfCliente varchar(14) not null,
    emailCliente varchar(50),
    telCliente varchar(15) not null,
    enderecoCliente varchar(100) not null,
    numeroCliente varchar(20) not null,
    bairroCliente varchar(50) not null,
    cidadeCliente varchar(50) not null,
    estadoCliente char(2) not null,
    cepCliente varchar(10) not null,
    limite_creditoCliente float(10,2)
);

create table usuario(
    idUsuario int(4) auto_increment not null primary key,
    nomeUsuario varchar(50) not null,
    cpfUsuario varchar(14) not null,
    enderecoUsuario varchar(100) not null,
    telUsuario varchar(15) not null,
    emailUsuario varchar(50) not null,
    senhaUsuario varchar(15) not null,
    funcaoUsuario varchar(15) not null
);

create table produto(
	idProduto int(4) auto_increment not null primary key,
    nomeProduto varchar(50) not null,
    descricaoProduto varchar(150) not null,
    quantidadeProduto int(10) not null,
    valorProduto decimal(10,2) not null,
    categoriaProduto varchar(50) not null,
    marcaProduto varchar (50) not null,
   );

create table categoriaProd(
	idcategoriaProd int(4) auto_increment primary key,
    descricaoCatProd varchar(45)   
);
create table marcaProd(
	idmarcaProd int(4) auto_increment not null primary key,
    descricao varchar(45) 
);
ALTER TABLE `autopecas`.`produto` 
ADD INDEX `categoriaProduto_idx` (`categoriaProduto` ASC) VISIBLE;
;
ALTER TABLE `autopecas`.`produto` 
ADD CONSTRAINT `categoriaProduto`
  FOREIGN KEY (`categoriaProduto`)
  REFERENCES `autopecas`.`categoriaprod` (`idCategoriaProd`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;

ALTER TABLE `autopecas`.`produto` 
ADD INDEX `marcaProduto_idx` (`marcaProduto` ASC) VISIBLE;
;
ALTER TABLE `autopecas`.`produto` 
ADD CONSTRAINT `marcaProduto`
  FOREIGN KEY (`marcaProduto`)
  REFERENCES `autopecas`.`marcaprod` (`idmarcaProd`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;